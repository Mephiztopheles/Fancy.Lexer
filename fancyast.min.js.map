{"version":3,"sources":["fancyast.js"],"names":["Fancy","ASTCompiler","expression","SCOPE_NAME","EXTRA_NAME","varCount","opened","this","type","function","bracketExpression","identifier","filter","functionCall","functionCount","variablePath","lastVariable","variables","declarations","body","if","scope","value","varName","call","isIn","elseIn","replace","notNull","currentVarName","buildIdentifier","item","isKeyword","v","createVar","exp","p","length","push","currentScope","add","undefined","resetPath","isFilterExpression","index","lexer","_index","name","_item","openClose","open","close","checkValue","key","declaration","arguments","compile","part","compilePart","isBraceExpression","substr","isFunctionExpression","isExpression","self","iterateArguments","arg","newVar","expressions","split","args","pop","forEach","argument","i","join","filterSupported","it","generate","fnString","object","callback","hasOwnProperty","match","parseInt","api","prototype","version","AST"],"mappings":"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","file":"fancyast.min.js"}